{
    "Changes": [
        // Load Machines
        {
            "LogName": "Load Machines",
            "Action": "Load",
            "Target": "Mods/skellady.SBVCP/Machines",
            "FromFile": "Assets/Items/{{TargetWithoutPath}}.png"
        },
        // Add Machines
        {
            "LogName": "Add Machines",
            "Action": "EditData",
            "Target": "Data/BigCraftables",
            "Entries": {
                "{{ModId}}_MineralGrinder": {
                    "Name": "skellady.SBVCP_MineralGrinder",
                    "DisplayName": "{{i18n:SBV.MineralGrinder.Name}}",
                    "Description": "{{i18n:SBV.MineralGrinder.Description}}",
                    "Price": 30,
                    "Fragility": 0,
                    "CanBePlacedOutdoors": true,
                    "CanBePlacedIndoors": true,
                    "IsLamp": false,
                    "Texture": "Mods\\skellady.SBVCP\\Machines",
                    "SpriteIndex": 0,
                    "CustomFields": {}
                },
                "{{ModId}}_AlchemyTable": {
                    "Name": "skellady.SBVCP_AlchemyTable",
                    "DisplayName": "{{i18n:SBV.AlchemyTable.Name}}",
                    "Description": "{{i18n:SBV.AlchemyTable.Description}}",
                    "Price": 30,
                    "Fragility": 0,
                    "CanBePlacedOutdoors": true,
                    "CanBePlacedIndoors": true,
                    "IsLamp": false,
                    "Texture": "Mods\\skellady.SBVCP\\Machines",
                    "SpriteIndex": 2,
                    "CustomFields": {}
                }
            }
        },
        // Machine Data
        {
            "LogName": "Machine Data",
            "Action": "EditData",
            "Target": "Data/Machines",
            "Entries": {
                "(BC)skellady.SBVCP_MineralGrinder": {
                    "OutputRules": [
                        {
                            "Id": "skellady.SBVCP_SerpentinePowder",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_Serpentine",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_SerpentinePowder",
                                    "ItemId": "(O)skellady.SBVCP_SerpentinePowder",
                                    "CopyQuality": false,
                                    "IncrementMachineParentSheetIndex": 1
                                }
                            ],
                            "MinutesUntilReady": 720,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_PurpuritePowder",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_Purpurite",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_PurpuritePowder",
                                    "ItemId": "(O)skellady.SBVCP_PurpuritePowder",
                                    "CopyQuality": false,
                                    "IncrementMachineParentSheetIndex": 1
                                }
                            ],
                            "MinutesUntilReady": 720,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_AnnabergitePowder",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_Annabergite",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_AnnabergitePowder",
                                    "ItemId": "(O)skellady.SBVCP_AnnabergitePowder",
                                    "CopyQuality": false,
                                    "IncrementMachineParentSheetIndex": 1
                                }
                            ],
                            "MinutesUntilReady": 720,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_CitrinePowder",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_Citrine",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_CitrinePowder",
                                    "ItemId": "(O)skellady.SBVCP_CitrinePowder",
                                    "CopyQuality": false,
                                    "IncrementMachineParentSheetIndex": 1
                                }
                            ],
                            "MinutesUntilReady": 720,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_BlueAuraQuartzPowder",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_BlueAuraQuartz",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_BlueAuraQuartzPowder",
                                    "ItemId": "(O)skellady.SBVCP_BlueAuraQuartzPowder",
                                    "CopyQuality": false,
                                    "IncrementMachineParentSheetIndex": 1
                                }
                            ],
                            "MinutesUntilReady": 720,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_MoonberryPowder",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_Moonberry",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_MoonberryPowder",
                                    "ItemId": "(O)skellady.SBVCP_MoonberryPowder",
                                    "CopyQuality": false,
                                    "IncrementMachineParentSheetIndex": 1
                                }
                            ],
                            "MinutesUntilReady": 720,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_DolomitePowder",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)543",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_DolomitePowder",
                                    "ItemId": "(O)skellady.SBVCP_DolomitePowder",
                                    "CopyQuality": false,
                                    "IncrementMachineParentSheetIndex": 1
                                }
                            ],
                            "MinutesUntilReady": 720,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_TigerseyePowder",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)562",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_TigerseyePowder",
                                    "ItemId": "(O)skellady.SBVCP_TigerseyePowder",
                                    "CopyQuality": false,
                                    "IncrementMachineParentSheetIndex": 1
                                }
                            ],
                            "MinutesUntilReady": 720,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_LunaritePowder",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)551",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_LunaritePowder",
                                    "ItemId": "(O)skellady.SBVCP_LunaritePowder",
                                    "CopyQuality": false,
                                    "IncrementMachineParentSheetIndex": 1
                                }
                            ],
                            "MinutesUntilReady": 720,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_FairyStonePowder",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)577",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_FairyStonePowder",
                                    "ItemId": "(O)skellady.SBVCP_FairyStonePowder",
                                    "CopyQuality": false,
                                    "IncrementMachineParentSheetIndex": 1
                                }
                            ],
                            "MinutesUntilReady": 720,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        }
                    ]
                },
                "(BC)skellady.SBVCP_AlchemyTable": {
                    "OutputRules": [
                        {
                            "Id": "skellady.SBVCP_SunriseOrb",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_Sunberries",
                                    "RequiredCount": 3
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_SunriseOrb",
                                    "ItemId": "(O)skellady.SBVCP_SunriseOrb",
                                    "CopyQuality": false
                                }
                            ],
                            "MinutesUntilReady": 120,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_SunriseToSunset",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_SunriseOrb",
                                    "RequiredCount": 3
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_SunsetOrbs",
                                    "ItemId": "(O)skellady.SBVCP_SunsetOrb",
                                    "MinStack": 2,
                                    "CopyQuality": false
                                }
                            ],
                            "MinutesUntilReady": 240,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_SunsetToMidnight",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_SunsetOrb",
                                    "RequiredCount": 3
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_MidnightOrbs",
                                    "ItemId": "(O)skellady.SBVCP_MidnightOrb",
                                    "MinStack": 2,
                                    "CopyQuality": false
                                }
                            ],
                            "MinutesUntilReady": 360,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_MidnightToEclipse",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_MidnightOrb",
                                    "RequiredCount": 3
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_EclipseOrbs",
                                    "ItemId": "(O)skellady.SBVCP_EclipseOrb",
                                    "MinStack": 2,
                                    "CopyQuality": false
                                }
                            ],
                            "MinutesUntilReady": 480,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_AnnabergitePotion",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_AnnabergitePowder",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_AnnabergitePotion",
                                    "ItemId": "(O)skellady.SBVCP_AnnabergitePotion",
                                    "CopyQuality": false
                                }
                            ],
                            "MinutesUntilReady": 1400,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_SerpentinePotion",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_SerpentinePowder",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_SerpentinePotion",
                                    "ItemId": "(O)skellady.SBVCP_SerpentinePotion",
                                    "CopyQuality": false
                                }
                            ],
                            "MinutesUntilReady": 1400,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_PurpuritePotion",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_PurpuritePowder",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_PurpuritePotion",
                                    "ItemId": "(O)skellady.SBVCP_PurpuritePotion",
                                    "CopyQuality": false
                                }
                            ],
                            "MinutesUntilReady": 1400,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_CitrinePotion",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_CitrinePowder",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_CitrinePotion",
                                    "ItemId": "(O)skellady.SBVCP_CitrinePotion",
                                    "CopyQuality": false
                                }
                            ],
                            "MinutesUntilReady": 1400,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_BlueAuraQuartzPotion",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_BlueAuraQuartzPowder",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_BlueAuraQuartzPotion",
                                    "ItemId": "(O)skellady.SBVCP_BlueAuraQuartzPotion",
                                    "CopyQuality": false
                                }
                            ],
                            "MinutesUntilReady": 1400,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_MoonberryPotion",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_MoonberryPowder",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_MoonberryPotion",
                                    "ItemId": "(O)skellady.SBVCP_MoonberryPotion",
                                    "CopyQuality": false
                                }
                            ],
                            "MinutesUntilReady": 1400,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_DolomitePotion",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_DolomitePowder",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_DolomitePotion",
                                    "ItemId": "(O)skellady.SBVCP_DolomitePotion",
                                    "CopyQuality": false
                                }
                            ],
                            "MinutesUntilReady": 1400,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_TigerseyePotion",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_TigerseyePowder",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_TigerseyePotion",
                                    "ItemId": "(O)skellady.SBVCP_TigerseyePotion",
                                    "CopyQuality": false
                                }
                            ],
                            "MinutesUntilReady": 1400,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_LunaritePotion",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_LunaritePowder",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_LunaritePotion",
                                    "ItemId": "(O)skellady.SBVCP_LunaritePotion",
                                    "CopyQuality": false
                                }
                            ],
                            "MinutesUntilReady": 1400,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        },
                        {
                            "Id": "skellady.SBVCP_FairyStonePotion",
                            "Triggers": [
                                {
                                    "Trigger": "ItemPlacedInMachine",
                                    "RequiredItemId": "(O)skellady.SBVCP_FairyStonePowder",
                                    "RequiredCount": 1
                                }
                            ],
                            "OutputItem": [
                                {
                                    "Id": "skellady.SBVCP_FairyStonePotion",
                                    "ItemId": "(O)skellady.SBVCP_FairyStonePotion",
                                    "CopyQuality": false
                                }
                            ],
                            "MinutesUntilReady": 1400,
                            "DaysUntilReady": -1,
                            "RecalculateOnCollect": false
                        }
                    ],
                    "AdditionalConsumedItems": [
                        {
                            "ItemId": "(O)skellady.SBVCP_CinderLeaf",
                            "RequiredCount": 5,
                            "InvalidCountMessage": "{{i18n:SBV.AlchemyTable.MissingCinderLeaf}}"
                        }
                    ],
                    "InvalidItemMessage": "{{i18n:SBV.AlchemyTable.InvalidItem}}",
                    "InvalidCountMessage": "{{i18n:SBV.AlchemyTable.InvalidCount}}",
                    "StatsToIncrementWhenHarvested": [
                        {
                            "Id": "TimesAlchemized",
                            "StatName": "skellady.SBVCP_TimesAlchemized"
                        }
                    ],
                    "LoadEffects": [
                        {
                            "Frames": [
                                0,
                                1,
                                2,
                                3,
                                4
                            ],
                            "Interval": 200
                        }
                    ],
                    "WorkingEffects": [
                        {
                            "Frames": [
                                0,
                                1,
                                2,
                                3,
                                4
                            ],
                            "Interval": 200
                        }
                    ],
                    "WorkingEffectChance": 1
                }
            }
        },
        // Generic Object Rules
        {
            "LogName": "Machine Data",
            "Priority": "Late", // late priority to ensure these don't override any rules added by other mods, i.e. addon/compat
            "Action": "EditData",
            "Target": "Data/Machines",
            "TargetField": [ "(BC){{ModId}}_MineralGrinder", "OutputRules" ],
            "Entries": {
                "{{ModId}}_GenericPowder": {
                    "Id": "{{ModId}}_GenericPowder",
                    "Triggers": [
                        {
                            "Trigger": "ItemPlacedInMachine",
                            "RequiredTags": [
                                "category_minerals"
                            ],
                            "RequiredCount": 1
                        },
                        {
                            "Trigger": "ItemPlacedInMachine",
                            "RequiredTags": [
                                "category_gem"
                            ],
                            "RequiredCount": 1
                        }
                    ],
                    "UseFirstValidOutput": false,
                    "OutputItem": [
                        {
                            "Id": "GenericPowder",
                            "ItemId": "(O){{ModId}}_GenericPowder",
                            "ObjectDisplayName": "[LocalizedText Strings\\Objects:{{ModId}}_GenericPowder_Name %PRESERVED_DISPLAY_NAME]",
                            "ObjectInternalName": "{{ModId}}_GenericPowder_{0}",
                            "PreserveId": "DROP_IN",
                            "CopyQuality": false,
                            "CopyColor": true,
                            "CopyPrice": true,
                            "IncrementMachineParentSheetIndex": 1,
                            "PriceModifiers": [
                                {
                                    "Modification": "Multiply",
                                    "Amount": 1.25
                                }
                            ]
                        }
                    ],
                    "MinutesUntilReady": 720,
                    "DaysUntilReady": -1,
                    "RecalculateOnCollect": false
                }
            }
        },
        {
            "LogName": "Machine Data",
            "Priority": "Late", // late priority to ensure these don't override any rules added by other mods, i.e. addon/compat
            "Action": "EditData",
            "Target": "Data/Machines",
            "TargetField": [ "(BC){{ModId}}_AlchemyTable", "OutputRules" ],
            "Entries": {
                "{{ModId}}_GenericPotion": {
                    "Id": "{{ModId}}_GenericPotion",
                    "Triggers": [
                        {
                            "Trigger": "ItemPlacedInMachine",
                            "RequiredItemId": "(O){{ModId}}_GenericPowder",
                            "RequiredCount": 1
                        }
                    ],
                    "UseFirstValidOutput": false,
                    "OutputItem": [
                        {
                            "Id": "GenericPotion",
                            "ItemId": "(O){{ModId}}_GenericPotion",
                            "ObjectDisplayName": "[LocalizedText Strings\\Objects:{{ModId}}_GenericPotion_Name %PRESERVED_DISPLAY_NAME]",
                            "ObjectInternalName": "{{ModId}}_GenericPotion_{0}",
                            "PreserveId": "DROP_IN_PRESERVE",
                            "CopyQuality": false,
                            "CopyColor": true,
                            "CopyPrice": true,
                            "PriceModifiers": [
                                {
                                    "Modification": "Multiply",
                                    "Amount": 1.6 // when combined with x1.25 mod from powder, results in x2 base gem/mineral price
                                },
                                {
                                    "Modification": "Add",
                                    "Amount": 250 // plus a little bit extra on top :)
                                }
                            ]
                        }
                    ],
                    "MinutesUntilReady": 1400,
                    "DaysUntilReady": -1,
                    "RecalculateOnCollect": false
                }
            }
        },
        // SEA COW BANNED!!! NO MORE SMOKING! 
        {
            "Action": "EditData",
            "Target": "Data/Machines",
            "TargetField": [
                "(BC)FishSmoker",
                "OutputRules",
                "SmokedFish",
                "Triggers",
                "ItemPlacedInMachine",
                "RequiredTags"
            ],
            "Entries": {
                "!item_seacow": "!item_seacow"
            }
        }
    ]
}